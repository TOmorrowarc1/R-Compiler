/*
Test Name: ConstTypeSolve3
Test Target: type solution rely on the const evaluation
Verdict: Success
Author: Renshu Ge
*/

struct A{
  array1_:[usize;B::length*314],
}

struct B{
  length_ : usize,
}

const a : A = A{
  array1_:[1;3*314],
  array2_:[3;5],
};
const b : B = B{
  length_ : 5,
};

fn main() {
  impl B {
    const length :usize = 3;
    const second_last :usize = (B::length + b.length_) * a.array1_[B::length] ;
  }
  const last : usize = B::length + b.length_ * a.array1_[B::second_last];
}