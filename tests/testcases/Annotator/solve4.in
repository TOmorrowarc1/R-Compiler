/*
Test Name: ConstTypeSolve4
Test Target: const evaluation rely on the struct solution
Verdict: Success
Author: Renshu Ge
*/

struct A{
  b:B,
  array1_:[B;8],
  array2_:[usize;1],
}

struct B{
  length_ : usize,
}

const a : A = A{
  array1_:[1;8],
  array2_:[3;1],
};
const b : B = B{
  length_ : 5,
};

fn main() {
  impl B {
    const length :usize = 3;
    const second_last :usize = a.array1_[0] ;
  }
  const last : usize = B::length + b.length_ * a.array1_[B::second_last];
}